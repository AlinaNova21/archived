var debug=false;var clicksPerSecond=50;var autoClickerVariance=Math.floor(clicksPerSecond/10);var respawnCheckFreq=5000;var targetSwapperFreq=1000;var abilityUseCheckFreq=2000;var itemUseCheckFreq=5000;var useMedicsAtPercent=30;var useNukeOnSpawnerAbovePercent=75;var useMetalDetectorOnBossBelowPercent=30;var autoClickerFreq=1000;var autoRespawner,autoClicker,autoTargetSwapper,autoTargetSwapperElementUpdate,autoAbilityUser,autoItemUser;var userElementMultipliers=[1,1,1,1];function startAutoClicker(){if(autoClicker){console.log("Autoclicker is already running!");return}autoClicker=setInterval(function(){var randomVariance=Math.floor(Math.random()*autoClickerVariance*2)-(autoClickerVariance);var clicks=clicksPerSecond+randomVariance;g_Minigame.m_CurrentScene.m_nClicks=clicks;if(debug)console.log('Clicking '+clicks+' times this second.')},autoClickerFreq);console.log("autoClicker has been started.")}function startAutoRespawner(){if(autoRespawner){console.log("autoRespawner is already running!");return}autoRespawner=setInterval(function(){if(debug)console.log('Checking if the player is dead.');if(g_Minigame.m_CurrentScene.m_bIsDead){if(debug)console.log('Player is dead. Respawning.');RespawnPlayer()}},respawnCheckFreq);console.log("autoRespawner has been started.")}function startAutoTargetSwapper(){if(autoTargetSwapper){console.log("autoTargetSwapper is already running!");return}updateUserElementMultipliers();autoTargetSwapperElementUpdate=setInterval(updateUserElementMultipliers,30000);autoTargetSwapper=setInterval(function(){var currentTarget=g_Minigame.m_CurrentScene.m_rgEnemies[g_Minigame.m_CurrentScene.m_rgPlayerData.target];var newTarget=currentTarget;var newTargetIsGold=false;var newTargetElement=-1;g_Minigame.m_CurrentScene.m_rgEnemies.each(function(testMob){var setTarget=false;var testMobIsGold=g_Minigame.m_CurrentScene.m_rgLaneData[testMob.m_nLane].abilities[17];var testMobElement=g_Minigame.m_CurrentScene.m_rgGameData.lanes[testMob.m_nLane].element;if(testMob==currentTarget||testMob==newTarget){}else if(newTarget==undefined)setTarget=true;else if(testMobIsGold&&!newTargetIsGold){if(debug)console.log('Switching lanes for Raining Gold!');setTarget=true}else if(testMob.m_data.type!=newTarget.m_data.type){if(testMob.m_data.type==4)setTarget=true;else if(testMob.m_data.type==2&&newTarget.m_data.type!=3&&newTarget.m_data.type!=0)setTarget=true;if(testMob.m_data.type==3&&newTarget.m_data.type<2)setTarget=true;else if(testMob.m_data.type==0)setTarget=true;if(setTarget&&debug)console.log('Switching to a higher priority mob type.')}else if(newTargetElement!=testMobElement){if(userElementMultipliers[newTargetElement]<userElementMultipliers[testMobElement]){setTarget=true;if(debug)console.log('Switching to a lane with elemental weakness.')}}else if(newTarget.m_data.hp>testMob.m_data.hp){setTarget=true;if(debug)console.log('Switching to a lower health target.')}if(setTarget){newTarget=testMob;newTargetIsGold=g_Minigame.m_CurrentScene.m_rgLaneData[newTarget.m_nLane].abilities[17];newTargetElement=g_Minigame.m_CurrentScene.m_rgGameData.lanes[newTarget.m_nLane].element}});if(newTarget!=currentTarget){if(g_Minigame.m_CurrentScene.m_rgPlayerData.current_lane!=newTarget.m_nLane)g_Minigame.m_CurrentScene.TryChangeLane(newTarget.m_nLane);g_Minigame.m_CurrentScene.TryChangeTarget(newTarget.m_nID)}},targetSwapperFreq);console.log("autoTargetSwapper has been started.")}function startAutoAbilityUser(){if(autoAbilityUser){console.log("autoAbilityUser is already running!");return}autoAbilityUser=setInterval(function(){if(debug)console.log("Checking if it's useful to use an ability.");var percentHPRemaining=g_Minigame.m_CurrentScene.m_rgPlayerData.hp/g_Minigame.m_CurrentScene.m_rgPlayerTechTree.max_hp*100;var target=g_Minigame.m_CurrentScene.m_rgEnemies[g_Minigame.m_CurrentScene.m_rgPlayerData.target];var targetPercentHPRemaining;if(target)targetPercentHPRemaining=target.m_data.hp/target.m_data.max_hp*100;if(hasAbility(5)){}if(hasAbility(6)){}if(percentHPRemaining<=useMedicsAtPercent&&!g_Minigame.m_CurrentScene.m_bIsDead){if(debug)console.log("Health below threshold. Need medics!");if(hasAbility(7)){if(debug)console.log("Unleash the medics!");castAbility(7)}else if(debug)console.log("No medics to unleash!")}if(target!=undefined&&target.m_data.type==2&&targetPercentHPRemaining<=useMetalDetectorOnBossBelowPercent){if(hasAbility(8)){if(debug)console.log('Using Metal Detector.');castAbility(8)}}if(hasAbility(9)&&!currentLaneHasAbility(9)){if(debug)console.log('Decreasing cooldowns.');castAbility(9)}if(target!=undefined&&target.m_data.type==0&&targetPercentHPRemaining>=useNukeOnSpawnerAbovePercent){if(hasAbility(10)){if(debug)console.log('Nuclear launch detected.');castAbility(10)}}if(hasAbility(11)){}if(hasAbility(12)){}},abilityUseCheckFreq);console.log("autoAbilityUser has been started.")}function startAutoItemUser(){if(autoItemUser){console.log("autoItemUser is already running!");return}autoItemUser=setInterval(function(){if(debug)console.log("Checking if it's useful to use an item.")},itemUseCheckFreq);console.log("autoItemUser has been started.")}function startAllAutos(){startAutoClicker();startAutoRespawner();startAutoTargetSwapper();startAutoAbilityUser();startAutoItemUser()}function stopAutoClicker(){if(autoClicker){clearInterval(autoClicker);autoClicker=null;console.log("autoClicker has been stopped.")}else console.log("No autoClicker is running to stop.")}function stopAutoRespawner(){if(autoRespawner){clearInterval(autoRespawner);autoRespawner=null;console.log("autoRespawner has been stopped.")}else console.log("No autoRespawner is running to stop.")}function stopAutoTargetSwapper(){if(autoTargetSwapper){clearInterval(autoTargetSwapper);autoTargetSwapper=null;console.log("autoTargetSwapper has been stopped.")}else console.log("No autoTargetSwapper is running to stop.")}function stopAutoAbilityUser(){if(autoAbilityUser){clearInterval(autoAbilityUser);autoAbilityUser=null;console.log("autoAbilityUser has been stopped.")}else console.log("No autoAbilityUser is running to stop.")}function stopAutoItemUser(){if(autoItemUser){clearInterval(autoItemUser);autoItemUser=null;console.log("autoItemUser has been stopped.")}else console.log("No autoItemUser is running to stop.")}function stopAllAutos(){stopAutoClicker();stopAutoRespawner();stopAutoTargetSwapper();stopAutoAbilityUser();stopAutoItemUser()}function disableAutoNukes(){useNukeOnSpawnerAbovePercent=200;console.log('Automatic nukes have been disabled')}function castAbility(abilityID){if(hasAbility(abilityID))g_Minigame.m_CurrentScene.TryAbility(document.getElementById('ability_'+abilityID).childElements()[0])}function currentLaneHasAbility(abilityID){return g_Minigame.m_CurrentScene.m_rgLaneData[g_Minigame.m_CurrentScene.m_rgPlayerData.current_lane].abilities[abilityID]}function hasAbility(abilityID){return((1<<abilityID)&g_Minigame.m_CurrentScene.m_rgPlayerTechTree.unlocked_abilities_bitfield)&&g_Minigame.m_CurrentScene.GetCooldownForAbility(abilityID)<=0}function updateUserElementMultipliers(){userElementMultipliers[0]=g_Minigame.m_CurrentScene.m_rgPlayerTechTree.damage_multiplier_air;userElementMultipliers[1]=g_Minigame.m_CurrentScene.m_rgPlayerTechTree.damage_multiplier_earth;userElementMultipliers[2]=g_Minigame.m_CurrentScene.m_rgPlayerTechTree.damage_multiplier_fire;userElementMultipliers[3]=g_Minigame.m_CurrentScene.m_rgPlayerTechTree.damage_multiplier_water}if(typeof unsafeWindow!='undefined'){unsafeWindow.startAutoClicker=startAutoClicker;unsafeWindow.startAutoRespawner=startAutoRespawner;unsafeWindow.startAutoTargetSwapper=startAutoTargetSwapper;unsafeWindow.startAutoAbilityUser=startAutoAbilityUser;unsafeWindow.startAutoItemUser=startAutoItemUser;unsafeWindow.startAllAutos=startAllAutos;unsafeWindow.stopAutoClicker=stopAutoClicker;unsafeWindow.stopAutoRespawner=stopAutoRespawner;unsafeWindow.stopAutoTargetSwapper=stopAutoTargetSwapper;unsafeWindow.stopAutoAbilityUser=stopAutoAbilityUser;unsafeWindow.stopAutoItemUser=stopAutoItemUser;unsafeWindow.stopAllAutos=stopAllAutos;unsafeWindow.disableAutoNukes=disableAutoNukes;unsafeWindow.castAbility=castAbility;unsafeWindow.hasAbility=hasAbility}startAllAutos();